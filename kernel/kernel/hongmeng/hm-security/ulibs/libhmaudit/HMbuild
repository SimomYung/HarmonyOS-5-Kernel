# Copyright (c) Huawei Technologies Co., Ltd. 2021-2022. All rights reserved.
# Description: HMbuild for libhmaudit
# Author: Huawei OS Kernel Lab
# Create: Tue Nov 09 10:25:23 2021

# libhmaudit depends on hmtrace

src-y: audit.c
src-y: rule.c
src-y: audit_watch.c

include-y: ../../include/
inclib: HMFSLibs::HMFSLib_include
inclib: HMUlibs::HMUlibs_sysif_auditmgr_include

# libhmaudit.a
lib-static-CONFIG_AUDIT: hmaudit
cflags-hmaudit-CONFIG_PIE: -fPIE
install-hmaudit-CONFIG_AUDIT: LIBDIR

# libhmaudit.so
lib-dynamic-CONFIG_AUDIT: hmaudit_shared
output-hmaudit_shared: hmaudit
install-hmaudit_shared-CONFIG_AUDIT: LIBDIR
# vim:ts=4:sw=4:expandtab
