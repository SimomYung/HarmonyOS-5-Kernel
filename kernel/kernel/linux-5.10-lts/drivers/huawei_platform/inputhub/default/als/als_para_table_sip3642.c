/*
 * Copyright (c) Huawei Technologies Co., Ltd. 2020-2020. All rights reserved.
 * Description: als para table ams tmd3702 source file
 * Author: linjianpeng <linjianpeng1@huawei.com>
 * Create: 2020-05-25
 */

#include "als_para_table_ams_tsl2540.h"

#include <linux/err.h>
#include <linux/of.h>
#include <linux/of_device.h>
#include <linux/of_gpio.h>
#include <linux/slab.h>
#include <linux/types.h>

#include <securec.h>

#include "als_tp_color.h"
#include "contexthub_boot.h"
#include "contexthub_route.h"
/*Parameter Configuration Description
	{phone_type,phone_version,tp_lcd,tp_color,
		{
			again,lux_coef_h_clear,lux_coef_h_red,lux_coef_h_green,lux_coef_h_blue,lux_coef_h_dgf,
			lux_coef_h_offset,lux_coef_l_clear,lux_coef_l_red,lux_coef_l_green,lux_coef_l_blue,
			lux_coef_l_dgf,lux_coef_l_offset,lux_ir_comp,lux_ir_div_point,
			cct_coef_h_blue_red,cct_coef_h_blue_green,cct_coef_h_green_red,cct_coef_h_offset,
			cct_coef_l_blue_red,cct_coef_l_blue_green,cct_coef_l_green_red,cct_coef_l_offset,
			cct_ir_comp,cct_ir_div_point,cct_cal,
			target_clear,target_red,target_green,target_blue,threshold_max,threshold_min
		}
	}
*/
static sip3642_als_para_table sip3642_als_para_diff_tp_color_table[] = {
	{ ADY, V3, BOE_TPLCD, OTHER,
		{ 64, 0, -11238, 19879, 2597, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8740, 10287, 15684, 11804, 4000, 250 }
	},
	{ ADY, V3, BOE_TPLCD_B12, OTHER,
		{ 64, 0, -4424, 16012, -2256, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8740, 10287, 15684, 11804, 4000, 250 }
	},
	{ ADY, V3, DEFAULT_TPLCD, OTHER,
		{ 64, 0, -11238, 19879, 2597, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8740, 10287, 15684, 11804, 4000, 250 }
	},
	{ HBN, V3, BOE_TPLCD, OTHER,
		{ 64, 0, -11238, 19879, 2597, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8740, 10287, 15684, 11804, 4000, 250 }
	},
	{ HBN, V3, DEFAULT_TPLCD, OTHER,
		{ 64, 0, -11238, 19879, 2597, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8740, 10287, 15684, 11804, 4000, 250 }
	},
	{ PLA, V3, BOE_TPLCD, OTHER,
		{ 64, 0, -11238, 19879, 2597, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8740, 10287, 15684, 11804, 4000, 250 }
	},
	{ PLA, V3, DEFAULT_TPLCD, OTHER,
		{ 64, 0, -11238, 19879, 2597, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8740, 10287, 15684, 11804, 4000, 250 }
	},
	{ HED, V3, BOE_TPLCD, OTHER,
		{ 256, 12, -3244, 16178, -2454, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 9321, 12649, 14892, 10084, 4000, 250,
        5919, 3, 5308, 3, -31130, 6, -9226, 4, 0, 0,
		12555, 4, 9306, 3, 3472, 4, -7915, 4, 0, 0,
		-8567, 4, -7074, 3, 25237, 3, -17705, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ HED, V3, DEFAULT_TPLCD, OTHER,
		{ 256, 1661, -13887, 31415, -12691, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 9079, 12267, 15583, 12044, 4000, 250,
        6399, 3, 5782, 3, -8943, 4, -11610, 4, 0, 0,
		-7409, 4, 13092, 3, -27786, 4, -7920, 4, 0, 0,
		-3401, 3, -17047, 4, 17506, 3, -14399, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ LMR, V3, BOE_TPLCD, OTHER,
		{ 64, -86, -2954, 12803, 1675, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 10710, 12712, 15217, 9754, 4000, 250,
		5801, 3, 5017, 3, 26125, 5, -6775, 4, 0, 0,
		-5111, 5, 9901, 3, 14168, 5, -5498, 4, 0, 0,
		-4004, 3, -27560, 4, 22580, 3, -12242, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ LMR, V4_D, BOE_TPLCD, OTHER,
		{ 64, -86, -2954, 12803, 1675, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 10710, 12712, 15217, 9754, 4000, 250,
		5801, 3, 5017, 3, 26125, 5, -6775, 4, 0, 0,
		-5111, 5, 9901, 3, 14168, 5, -5498, 4, 0, 0,
		-4004, 3, -27560, 4, 22580, 3, -12242, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ LMR, V3, DEFAULT_TPLCD, OTHER,
		{ 64, -267, -948, 14451, -772, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9034, 10278, 13771, 9310, 4000, 250,
		6074, 3, 6526, 3, 3954, 4, -8678, 4, 0, 0,
		-15342, 4, 14241, 3, -19349, 4, -6643, 4, 0, 0,
		-11360, 3, 7416, 3, 16013, 3, -7988, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ LMR, V4_D, DEFAULT_TPLCD, OTHER,
		{64, 1030, -10546, 28376, -14080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9034, 10278, 13771, 9310, 4000, 250,
		3517, 3, 10050, 3, -13693, 4, -3376, 4, 0, 0,
		-3366, 3, 16292, 3, -24959, 4, -2358, 4, 0, 0,
		-13590, 3, 10038, 3, 15577, 3, -7403, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0}
	},
	{ LMU, V3, BOE_TPLCD, OTHER,
		{ 64, 570, -9604, 24491, -9800, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 10710, 12712, 15217, 9754, 4000, 250,
		5801, 3, 5017, 3, 26125, 5, -6775, 4, 0, 0,
		-5111, 5, 9901, 3, 14168, 5, -5498, 4, 0, 0,
		-4004, 3, -27560, 4, 22580, 3, -12242, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ LMU, V3, DEFAULT_TPLCD, OTHER,
		{ 64, 802, -5561, 17539, -4838, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9034, 10278, 13771, 9310, 4000, 250,
		17842, 3, -9194, 3, 10126, 3, -16074, 4, 0, 0,
		10366, 3, -25109, 4, 8548, 3, -13515, 4, 0, 0,
		-24252, 4, -4542, 3, 23617, 3, -13708, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ SGP, V3, BOE_TPLCD, OTHER,
		{ 64, -142, -2175, 10949, 866, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 10710, 12712, 15217, 9754, 4000, 250,
		12862, 3, -4075, 3, 6568, 3, -12430, 4, 0, 0,
		3793, 3, 5727, 3, 4003, 3, -8934, 4, 0, 0,
		-16551, 4, -5278, 3, 25956, 3, -16788, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ SGP, V3, DEFAULT_TPLCD, OTHER,
		{ 64, 376, -6789, 18713, -5201, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9034, 10278, 13771, 9310, 4000, 250,
		18669, 3, -11784, 3, 9052, 3, -17193, 4, 0, 0,
		16272, 3, -9893, 3, 9515, 3, -18320, 4, 0, 0,
		6398, 4, -5834, 3, 18538, 3, -14032, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ SGT, V3, BOE_TPLCD, OTHER,
		{ 64, -1681, 11677, -1389, 10590, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8095, 10893, 11919, 7671, 4000, 250,
		12862, 3, -4075, 3, 6568, 3, -12430, 4, 0, 0,
		3793, 3, 5727, 3, 4003, 3, -8934, 4, 0, 0,
		-16551, 4, -5278, 3, 25956, 3, -16788, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{ SGT, V3, DEFAULT_TPLCD, OTHER,
		{ 64, -1914, 13580, -4294, 7563, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9693, 13028, 15699, 11698, 4000, 250,
		18669, 3, -11784, 3, 9052, 3, -17193, 4, 0, 0,
		16272, 3, -9893, 3, 9515, 3, -18320, 4, 0, 0,
		6398, 4, -5834, 3, 18538, 3, -14032, 4, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0 }
	},
	{MLR, V3, DEFAULT_TPLCD, OTHER,
		{ 64, 0, -11238, 19879, 2597, 1, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 6013, 8122, 10426, 9022, 10000, 0 }
	},
};

sip3642_als_para_table *als_get_sip3642_table_by_id(uint32_t id)
{
	if (id >= ARRAY_SIZE(sip3642_als_para_diff_tp_color_table))
		return NULL;
	return &(sip3642_als_para_diff_tp_color_table[id]);
}

sip3642_als_para_table *als_get_sip3642_first_table(void)
{
	return &(sip3642_als_para_diff_tp_color_table[0]);
}

uint32_t als_get_sip3642_table_count(void)
{
	return ARRAY_SIZE(sip3642_als_para_diff_tp_color_table);
}
