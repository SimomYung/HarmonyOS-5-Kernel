# Copyright (c) 2024 Huawei Device Co., Ltd.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

common_cflags = [
  "-Wall",
  "-Wextra",
  "-Wno-error=unused-variable",
  "-Wno-error=switch",
  "-Wno-error=array-parameter",
  "-Wno-error=sign-compare",
  "-Wno-error=unused-function",
  "-Wno-error=unused-label",
  "-Wno-error=deprecated-non-prototype",
  "-Wno-error=implicit-function-declaration",
  "-Wno-error=macro-redefined",
  "-Wno-pointer-sign",
  "-Wno-array-parameter",
  "-Wno-format",
  "-Wno-pointer-arith",
  "-Wno-strict-aliasing",
  "-Wno-format-security",
  "-Wno-implicit-fallthrough",
  "-Wno-missing-field-initializers",
  "-Wno-type-limits",
  "-Wno-unused-parameter",
  "-O2",
  "-fstack-protector-strong",
  "-D_FORTIFY_SOURCE=2",
]

common_cflags_cc = [
  "-fstack-protector-strong",
  "-D_FORTIFY_SOURCE=2",
  "-O2",
]

common_defines = [
  "SUPPORT_SYSVPN",
  "CONFIG_H_INCLUDED",
  "HAVE_ALLOCA",
  "HAVE_ALLOCA_H",
  "HAVE_BACKTRACE",
  "HAVE_CHOWN",
  "HAVE_CLOCK_GETTIME",
  "HAVE_CONDATTR_CLOCK_MONOTONIC",
  "HAVE_DECL_STRERROR_R",
  "HAVE_DIRFD",
  "HAVE_DLADDR",
  "HAVE_DLFCN_H",
  "HAVE_EXPLICIT_BZERO",
  "HAVE_FMEMOPEN",
  "HAVE_GETGRNAM_R",
  "HAVE_GETPASS",
  "HAVE_GETPWNAM_R",
  "HAVE_GETPWUID_R",
  "HAVE_GETTID",
  "HAVE_GLOB_H",
  "HAVE_IN6ADDR_ANY",
  "HAVE_IN6_PKTINFO",
  "HAVE_INTTYPES_H",
  "HAVE_IPSEC_DIR_FWD",
  "HAVE_IPSEC_MODE_BEET",
  "HAVE_LINUX_UDP_H",
  "HAVE_MALLINFO",
  "HAVE_MALLINFO2",
  "HAVE_MEMORY_H",
  "HAVE_MEMRCHR",
  "HAVE_MMAP",
  "HAVE_NETINET_IP6_H",
  "HAVE_PRCTL",
  "HAVE_PTHREAD_CONDATTR_INIT",
  "HAVE_PTHREAD_CONDATTR_SETCLOCK",
  "HAVE_PTHREAD_RWLOCK_INIT",
  "HAVE_PTHREAD_SPIN_INIT",
  "HAVE_SEM_TIMEDWAIT",
  "HAVE_SETLINEBUF",
  "HAVE_SIGWAITINFO",
  "HAVE_STDBOOL_H",
  "HAVE_STDINT_H",
  "HAVE_STDLIB_H",
  "HAVE_STRERROR_R",
  "HAVE_STRINGS_H",
  "HAVE_STRING_H",
  "HAVE_STRPTIME",
  "HAVE_STRUCT_SADB_X_POLICY_SADB_X_POLICY_PRIORITY",
  "HAVE_SYSLOG",
  "HAVE_SYS_PARAM_H",
  "HAVE_SYS_STAT_H",
  "HAVE_SYS_SYSCALL_H",
  "HAVE_SYS_TYPES_H",
  "HAVE_UNISTD_H",
  "HAVE__BOOL",
  "LT_OBJDIR=\".libs/\"",
  "MONOLITHIC",
  "PACKAGE=\"strongswan\"",
  "PACKAGE_BUGREPORT=\"\"",
  "PACKAGE_NAME=\"strongSwan\"",
  "PACKAGE_STRING=\"strongSwan 5.9.10\"",
  "PACKAGE_TARNAME=\"strongswan\"",
  "PACKAGE_URL=\"\"",
  "PACKAGE_VERSION=\"5.9.10\"",
  "STATIC_PLUGIN_CONSTRUCTORS",
  "STDC_HEADERS",
  "USE_BUILTIN_PRINTF",
  "USE_IKEV1",
  "USE_IKEV2",
  "VERSION=\"5.9.10\"",
  "IPSEC_DIR=\"/system/bin\"",
  "IPSEC_LIB_DIR=\"/system/lib/strongswan/ipsec\"",
  "PLUGINDIR=\"/system/lib/strongswan/ipsec/plugins\"",
  "STRONGSWAN_CONF=\"/data/service/el1/public/vpn/strongswan.conf\"",
  "IPSEC_PIDDIR=\"/data/service/el1/public/vpn\"",
  "RESOLV_CONF=\"/system/etc/strongswan/resolv.conf\"",
  "IPSEC_CONFDIR=\"/system/etc/strongswan\"",
  "SWANCTLDIR=\"/system/etc/strongswan/swanctl\"",
  "IPSEC_SCRIPT=\"ipsec\"",
  "DEV_RANDOM=\"/dev/random\"",
  "DEV_URANDOM=\"/dev/urandom\"",
]
